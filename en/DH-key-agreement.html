<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <link rel="icon" href="https://qiniuoss.xuyijie.icu/SecureApiDoc/img/logo/favicon.png"><title>DH Key Agreement | SecureApi Document</title><meta name="description" content="A spring boot interface parameters and return value encryption and decryption tool">
    <link rel="preload" href="/secure-api-doc/assets/style-BTWLNjuB.css" as="style"><link rel="stylesheet" href="/secure-api-doc/assets/style-BTWLNjuB.css">
    <link rel="modulepreload" href="/secure-api-doc/assets/app--BIH7zB8.js"><link rel="modulepreload" href="/secure-api-doc/assets/DH-key-agreement.html-mml0uTwy.js"><link rel="modulepreload" href="/secure-api-doc/assets/DH密钥协商工具类示例输出-B0hvIEJX.js">
    <link rel="prefetch" href="/secure-api-doc/assets/CipherUtils.html-DowahG-E.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/DH密钥协商.html-Dd8ZgDpu.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/JS示例.html-DUrw5lu5.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/index.html-C-NK73QK.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/URL匹配.html-D5qUPS6E.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/两种模式.html-DDbC9KtX.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/加密算法.html-D84iDO6o.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/安装.html-BZw8vLm4.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/开始使用.html-CBW6t0If.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/异常处理.html-D2P3ExKF.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/微服务调用.html-DdnFUomh.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/注解.html-BZiI8pdt.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/版本历史.html-D0e0O0uV.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/试一下.html-BIKHUF3I.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/配置.html-yk75rWZY.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/黑金刚.html-pJ7gKSzZ.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/CipherUtils.html-UiMEUupm.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/index.html-CcRFk-w7.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/annotation.html-D04ewX5Z.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/black-king-kong.html-BHAKPisJ.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/configuration.html-CCfM1zoh.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/encryption-algorithm.html-BHt5wkFH.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/exception-handle.html-WRG31aRh.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/get-started.html-BklzsB1x.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/install.html-CW90oUJX.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/js-demo.html-VjGwu8Uj.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/microservice-invocation.html-C7UGbBac.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/try-it.html-BUrA82Ee.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/two-modes.html-DzgdhxG6.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/url-pattern.html-1k_MeJyl.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/version-history.html-v3l3JldJ.js" as="script"><link rel="prefetch" href="/secure-api-doc/assets/404.html-CCkxv2Cs.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/secure-api-doc/en/"><img class="vp-site-logo" src="https://qiniuoss.xuyijie.icu/SecureApiDoc/img/logo/logo.png" alt="SecureApi Document"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">SecureApi Document</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/secure-api-doc/en/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/secure-api-doc/en/get-started.html" aria-label="Get Start"><!---->Get Start<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/secure-api-doc/en/version-history.html" aria-label="Version History"><!---->Version History<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Doc Accelerate"><span class="title">Doc Accelerate</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Doc Accelerate"><span class="title">Doc Accelerate</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://doc.xuyijie.icu/secure-api-doc/" aria-label="China Mainland" rel="noopener noreferrer" target="_blank"><!---->China Mainland<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://bubblingxuyijie.github.io/secure-api-doc/" aria-label="International" rel="noopener noreferrer" target="_blank"><!---->International<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">切换语言</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">切换语言</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/secure-api-doc/" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/secure-api-doc/en/DH-key-agreement.html" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/secure-api-doc/en/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/secure-api-doc/en/get-started.html" aria-label="Get Start"><!---->Get Start<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/secure-api-doc/en/version-history.html" aria-label="Version History"><!---->Version History<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Doc Accelerate"><span class="title">Doc Accelerate</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Doc Accelerate"><span class="title">Doc Accelerate</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://doc.xuyijie.icu/secure-api-doc/" aria-label="China Mainland" rel="noopener noreferrer" target="_blank"><!---->China Mainland<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://bubblingxuyijie.github.io/secure-api-doc/" aria-label="International" rel="noopener noreferrer" target="_blank"><!---->International<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">切换语言</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">切换语言</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/secure-api-doc/" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/secure-api-doc/en/DH-key-agreement.html" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/secure-api-doc/en/get-started.html" aria-label="Start"><!---->Start<!----></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Guide <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/install.html" aria-label="Install"><!---->Install<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/configuration.html" aria-label="Configuration"><!---->Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/try-it.html" aria-label="Try It"><!---->Try It<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/annotation.html" aria-label="Annotation"><!---->Annotation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/url-pattern.html" aria-label="Url Pattern"><!---->Url Pattern<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/exception-handle.html" aria-label="Exception Handle"><!---->Exception Handle<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/encryption-algorithm.html" aria-label="Encryption Algorithm"><!---->Encryption Algorithm<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/CipherUtils.html" aria-label="CipherUtils"><!---->CipherUtils<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secure-api-doc/en/two-modes.html" aria-label="Two Modes"><!---->Two Modes<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/secure-api-doc/en/DH-key-agreement.html" aria-label="DH Key Agreement"><!---->DH Key Agreement<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/secure-api-doc/en/js-demo.html" aria-label="Js Demo"><!---->Js Demo<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/secure-api-doc/en/microservice-invocation.html" aria-label="Microservice Invocation"><!---->Microservice Invocation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/secure-api-doc/en/black-king-kong.html" aria-label="Black King Kong"><!---->Black King Kong<!----></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="dh-key-agreement" tabindex="-1"><a class="header-anchor" href="#dh-key-agreement"><span>DH Key Agreement</span></a></h1><h2 id="introduce" tabindex="-1"><a class="header-anchor" href="#introduce"><span>Introduce</span></a></h2><p>The client end and server level generate their own <code>RSA</code> key pairs and exchange public keys, using <code>Diffie Hellman</code>. The algorithm uses its own private key and the other party&#39;s public key, and the client end and server level will generate the same <code>AES</code> symmetric encryption key, Later, the client end and the server verify the negotiated key, and the successful verification uses the <code>AES</code> key to add to decipher, because the key has never been exposed on the network, so it is safe.</p><h2 id="negotiation-process" tabindex="-1"><a class="header-anchor" href="#negotiation-process"><span>Negotiation process</span></a></h2><p>To use DH key negotiation, the backend needs to use SecureApi to set the encryption mode to <code>common</code> and specify the encryption algorithm as <code>AES</code>, which cannot be other algorithms, because DH The negotiated key is the key of <code>AES</code>.</p><blockquote><ul><li>The backend uses <code>CipherUtils</code> or an online website to generate a <code>RSA</code> key pair and save it on the server, waiting for the front-end negotiation signal</li><li>The first communication: the front-end generates the <code>RSA</code> key pair, then sends a request for the negotiated key to the back-end, and sends the public key to the front-end (the public key is transmitted on the network, and will be checked later). After the backend receives the request, it uses its own private key and the public key sent from the front-end to generate a <code>negotiated key</code> and save it in the <code>key</code> field of the <code>SecureApiPropertiesConfig</code>, and then returns its own public key to the front-end. After the front-end gets the backend public key, it also uses this public key and its own private key to generate a <code>negotiated key</code></li><li>Second communication: The front end uses the <code>negotiation key</code> to encrypt an arbitrary data and send it to the backend. The backend sees if the <code>negotiation key</code> can be used to successfully decipher. If it succeeds, the negotiation is successful. The subsequent front and back ends use the <code>negotiation key</code> to add to decipher. If the decipher fails, in addition to the code reason, it may be that the <code>public key</code> was tampered with during transmission. At this time, it needs to be renegotiated</li><li>After the negotiation is successful, the front and back ends each have the same symmetric key, which can be used to add a decipher later. This key has never been exposed on the network, so it is safe. You can also renegotiate regularly to enhance security</li></ul></blockquote><h2 id="advantage" tabindex="-1"><a class="header-anchor" href="#advantage"><span>Advantage</span></a></h2><ul><li>Security, although it is still a little worse than the <code>session-key</code> mode, the negotiation process is simpler than the <code>session-key</code> mode</li><li>Compared with the <code>session-key</code> mode, each request has one less calculation of the <code>RSA</code> private key decipher session key, and the performance is higher (do not underestimate the performance consumption of the private key decipher)</li></ul><h2 id="diffiehellmanutils" tabindex="-1"><a class="header-anchor" href="#diffiehellmanutils"><span>DiffieHellmanUtils</span></a></h2><p>SecureApi provides a tool class for DH key negotiation: <code>DiffieHellmanUtils</code>, the following is an introduction to the method of the tool class.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre class="language-java"><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// The backend generates a DH key pair and sends the public key to the frontend</span></span>
<span class="line">    <span class="token class-name">KeyPair</span> serverKeyPair <span class="token operator">=</span> <span class="token class-name">DiffieHellmanUtils</span><span class="token punctuation">.</span><span class="token function">getDhKeyPairs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// The front end generates the key pair and sends the public key to the backend.</span></span>
<span class="line">    <span class="token class-name">KeyPair</span> clientKeyPair <span class="token operator">=</span> <span class="token class-name">DiffieHellmanUtils</span><span class="token punctuation">.</span><span class="token function">getDhKeyPairs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// The backend generates a negotiated key based on its own private key and the frontend public key</span></span>
<span class="line">    <span class="token class-name">String</span> serverSharedSecretString <span class="token operator">=</span> <span class="token class-name">DiffieHellmanUtils</span><span class="token punctuation">.</span><span class="token function">createSharedSecret</span><span class="token punctuation">(</span>serverKeyPair<span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> clientKeyPair<span class="token punctuation">.</span><span class="token function">getPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// The front end generates a negotiated key based on its own private key and the backend public key</span></span>
<span class="line">    <span class="token class-name">String</span> clientSharedSecretString <span class="token operator">=</span> <span class="token class-name">DiffieHellmanUtils</span><span class="token punctuation">.</span><span class="token function">createSharedSecret</span><span class="token punctuation">(</span>clientKeyPair<span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> serverKeyPair<span class="token punctuation">.</span><span class="token function">getPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Server shared key：&quot;</span> <span class="token operator">+</span> serverSharedSecretString<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Client shared key：&quot;</span> <span class="token operator">+</span> clientSharedSecretString<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Is it the same: &quot;</span> <span class="token operator">+</span> clientSharedSecretString<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>serverSharedSecretString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// 使用共享密钥加密</span></span>
<span class="line">    <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">&quot;Hello, 你 好/、\\！&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">CipherUtils</span> cipherUtils <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CipherUtils</span><span class="token punctuation">(</span><span class="token class-name">CipherAlgorithmEnum</span><span class="token punctuation">.</span><span class="token constant">AES_ECB_PKCS5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> encrypt <span class="token operator">=</span> cipherUtils<span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> serverSharedSecretString<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;After encryption: &quot;</span> <span class="token operator">+</span> encrypt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 使用共享密钥解密</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;After decryption: &quot;</span> <span class="token operator">+</span> cipherUtils<span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>encrypt<span class="token punctuation">,</span> serverSharedSecretString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/secure-api-doc/assets/DH%E5%AF%86%E9%92%A5%E5%8D%8F%E5%95%86%E5%B7%A5%E5%85%B7%E7%B1%BB%E7%A4%BA%E4%BE%8B%E8%BE%93%E5%87%BA-DXToGi2q.png" alt="output result" tabindex="0" loading="lazy"><figcaption>output result</figcaption></figure><h2 id="explain" tabindex="-1"><a class="header-anchor" href="#explain"><span>Explain</span></a></h2><p>The essence of DH key agreement is to save a key for each front and back end, but to enhance the flexibility, SecureApi still uses the <code>common</code> mode, and the negotiated key is set to the <code>key</code> field of the <code>SecureApiPropertiesConfig</code> when configuring SecureApi.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/BubblingXuYijie/secure-api-doc/edit/main/docs/en/DH-key-agreement.md" aria-label="Edit on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->Edit on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1119461672@qq.com">XuYijie</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/secure-api-doc/en/two-modes.html" aria-label="Two Modes"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Two Modes</span></div></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/secure-api-doc/assets/app--BIH7zB8.js" defer></script>
  </body>
</html>
